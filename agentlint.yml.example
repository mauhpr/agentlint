# AgentLint Configuration
# Docs: https://github.com/mauhpr/agentlint

# Stack detection: auto | manual
# "auto" detects your stack from project files (pyproject.toml, package.json, etc.)
stack: auto

# Severity mode: strict | standard | relaxed
# strict  — warnings become errors (blocks the agent)
# standard — errors block, warnings inform (default)
# relaxed — warnings become info (for prototyping)
severity: standard

# Active rule packs (auto-detected if stack: auto)
packs:
  - universal
  # - security        # Opt-in: blocks Bash file writes, network exfiltration
  - python
  - frontend
  - react
  - seo

# Per-rule overrides
rules:
  # ── PreToolUse (can block the agent) ─────────────────────
  # no-secrets:
  #   enabled: true             # Block API keys, tokens, passwords, private keys
  #   extra_prefixes: []        # Additional token prefixes to detect
  # no-env-commit:
  #   enabled: true             # Block writing .env files (including via Bash)
  # no-force-push:
  #   enabled: true             # Block git push --force to main/master
  # no-push-to-main:
  #   enabled: true             # Warn on direct push to main/master
  # no-skip-hooks:
  #   enabled: true             # Warn on git commit --no-verify
  # no-destructive-commands:
  #   enabled: true             # Warn on rm -rf, DROP TABLE, chmod 777, mkfs, etc.
  # no-test-weakening:
  #   enabled: true             # Warn on skipped tests, assert True, etc.
  # dependency-hygiene:
  #   enabled: true             # Warn on ad-hoc pip/npm install

  # ── Security pack (opt-in) ───────────────────────────────
  # no-bash-file-write:
  #   allow_patterns: []        # Regex patterns to allow (e.g., ["echo.*>>.*\\.log"])
  #   allow_paths: []           # Glob patterns for allowed targets (e.g., ["*.log", "/tmp/*"])
  # no-network-exfil:
  #   allowed_hosts: []         # Additional allowed hosts (github.com, pypi.org already allowed)

  # ── PostToolUse (warnings after the action) ─────────────
  # max-file-size:
  #   limit: 500                # Warn if file exceeds this many lines
  # drift-detector:
  #   threshold: 10             # Warn after this many edits without tests

  # ── Stop (end-of-session report) ────────────────────────
  # no-debug-artifacts:
  #   enabled: true             # Detect console.log, print(), debugger
  # test-with-changes:
  #   enabled: true             # Warn if source changed but no tests updated
  # no-todo-left:
  #   enabled: true             # Report TODO/FIXME comments in changed files

# Custom rules directory (relative to project root)
# custom_rules_dir: .agentlint/rules/
